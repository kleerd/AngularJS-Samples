<!DOCTYPE html>
<html ng-app>
<head>
  <meta charset="utf-8" />
  <title>AngularJS Timer</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.5/angular.min.js"></script>
  <script type="text/javascript">
  //<![CDATA
  function TimerCtrl($scope, $interval) {
    $scope.time = 0;

    var timer;
    $scope.start = function() {
      // don't start if already started
      if (angular.isDefined(timer)) return;

      var d = new Date();
      timer = $interval(function() {
        var n = (new Date() - d) * 0.001;
        $scope.time = n.toFixed(3);
      }, 10);
    }

    $scope.reset = function() {
      if (angular.isDefined(timer)) {
        $interval.cancel(timer);
        timer = undefined;
      }
      $scope.time = 0;
    }
  }
  //]]>
  </script>
</head>
<body>
  <h1>AngularJS Timer</h1>
  <div ng-controller="TimerCtrl">
    <h2>{{time}} [sec]</h2>
    <button ng-click="start()">Start</button>
    <button ng-click="reset()">Reset</button>
  </div>
</body>
</html>
